/* === Paleta base (STRIC) === */
body {
  margin: 0;

}

:root{
  --cor-principal:   #42628C;   /* azul destaque */
  --cor-secundaria:  #253C59;   /* azul médio / cards dark */
  --cor-escura:      #1A2A40;   /* fundo dark */

  --texto-escuro:    #0D0D0D;
  --texto-claro:     #F2F2F2;

  --fundo-pagina:    #F2F2F2;   /* usado no tema claro */
  --fundo-sidebar:   #1A2A40;   /* sidebar no dark */

  --cor-alerta:      #dc3545;   /* erro (igual login) */
  --cor-sucesso:     #2ecc71;
  --cor-aviso:       #f39c12;

  --surface-dark:    #253C59;   /* superfícies no dark (igual container do login) */
  --surface-light:   #ffffff;   /* superfícies no light */

  --placeholder:     #bfc7d6;
}

/* Tema claro */
html[data-theme="light"]{
  --bg-body:       var(--fundo-pagina);
  --bg-surface:    var(--surface-light);
  --text:          var(--texto-escuro);
  --muted:         #6b7280;
  --shadow:        rgba(0,0,0,.12);
  --sidebar-bg:    #ffffff;
  --sidebar-text:  #0D0D0D;
  --sidebar-border:#e5e7eb;
}

/* Tema escuro (mesma base visual do login) */
html[data-theme="dark"]{
  --bg-body:       #1A2A40;
  --bg-surface:    var(--surface-dark); /* 253C59 */
  --text:          var(--texto-claro);
  --muted:         var(--placeholder);  /*  bfc7d6  */
  --shadow:        rgba(0,0,0,.35);
  --sidebar-bg:    var(--fundo-sidebar);/* 1A2A40 */
  --sidebar-text:  var(--texto-claro);
  --sidebar-border:rgba(255,255,255,.08);
}

*{ box-sizing: border-box; }

body{
  background-color: var(--bg-body);
  color: var(--text);
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding-top: 56px; /* topbar fixa */
}

/* Sidebar fixa no desktop; offcanvas já cuida no mobile */
.sidebar{
  width: 0px;
  background: var(--sidebar-bg);
  color: var(--sidebar-text);
  border-right: 1px solid var(--sidebar-border);
}
.sidebar .logo-area .brand-text{ font-size: 1.1rem; }

.sidebar .nav-link{
  color: var(--sidebar-text);
  padding: 14px 18px;
  margin: 0;
  display: block;
  text-decoration: none;
  border-left: 4px solid transparent;
  transition: background-color .2s, border-color .2s, color .2s;
}
.sidebar .nav-link i{ width: 22px; margin-right: 8px; }
.sidebar .nav-link:hover,
.sidebar .nav-link.active{
  background: var(--cor-secundaria);
  color: var(--texto-claro);
  border-left-color: var(--cor-principal);
}

/* Topbar */
.topbar{
  background: var(--bg-surface);
}
.brand-logo{
  height: 80px; width: auto;
  object-fit: contain;
}
.brand-text{
  color: var(--text);
}

/* Main spacing: no desktop, espaço ao lado do sidebar */
@media (min-width: 992px){
  .main{
    margin-left: 0px;
  }
}

/* Cards */
.bg-surface{ background: var(--bg-surface) !important; }
.card-dashboard{
  border-left:5px solid var(--cor-principal);
  transition: transform .2s ease, box-shadow .2s ease;
  position:relative; overflow:hidden;
  box-shadow: 0 6px 14px var(--shadow);
}
.card-dashboard:hover{
  transform: translateY(-3px);
  box-shadow: 0 12px 25px var(--shadow) !important;
}
.card-title-lg{ font-size: 2rem; font-weight: 700; margin-bottom: 6px; }
.card-icon{
  position:absolute; top:16px; right:16px;
  font-size:2.8rem; color: rgba(0,0,0,.06);
}
.card-progress-bar{
  height:6px; width:100%;
  position:absolute; left:0; bottom:0;
  background-color: rgba(0,0,0,.06);
}
.card-progress-fill{ height:100%; transition: width .5s ease-out; }

/* Tabelas */
.table thead th{
  background: var(--cor-principal);
  color: var(--texto-claro);
  border: none;
}
.table-critico thead th{ background: var(--cor-alerta); }
.linha-critica{
  background-color: rgba(220,53,69,.10);
  font-weight: 600;
  border-left:3px solid var(--cor-alerta);
}
.table td, .table th{
  vertical-align: middle;
}

/* Utilitários */
.text-cor-principal{ color: var(--cor-principal) !important; }
.bg-success{ background-color: var(--cor-sucesso) !important; }
.text-success{ color: var(--cor-sucesso) !important; }
.text-danger{ color: var(--cor-alerta) !important; }
.bg-danger{ background-color: var(--cor-alerta) !important; }
.bg-info{ background-color: var(--cor-principal) !important; }
.text-info{ color: var(--cor-principal) !important; }

/* Botão primário seguindo a paleta do login */
.btn-primary{
  --bs-btn-bg: var(--cor-principal);
  --bs-btn-border-color: var(--cor-principal);
  --bs-btn-hover-bg: #1A2A40;
  --bs-btn-hover-border-color: #42628C;
  --bs-btn-color: #F2F2F2;
}



.btn-warning{
  --bs-btn-bg: var(--cor-aviso);
  --bs-btn-border-color: var(--cor-aviso);
  color:#0D0D0D;
}
hr{ border-color: var(--sidebar-border); }

/* Destaque extra para campos inválidos no STRIC */
.is-invalid {
  border-width: 2px;
}


/* Ancoragem */
section{ scroll-margin-top: 80px; }

/* Pills de cor (config) */
.color-pill{ min-width: 80px; }

/* Melhorias mobile */
@media (max-width: 575.98px){
  .card-title-lg{ font-size: 1.6rem; }
  .brand-text{ display:none; }
}

/* Menu do topo, todo à esquerda */
.topbar .navbar-nav.top-menu .nav-link{
  color: var(--text);
  padding: .6rem .8rem;
  border-radius: .5rem;
  display: flex; align-items: center;
}
.topbar .navbar-nav.top-menu .nav-link i{ opacity:.9; }

.topbar .navbar-nav.top-menu .nav-link:hover,
.topbar .navbar-nav.top-menu .nav-link:focus{
  background: var(--cor-secundaria);
  color: var(--texto-claro);
}
.topbar .navbar-nav.top-menu .nav-link.active{
  background: var(--cor-secundaria);
  color: var(--texto-claro);
  box-shadow: inset 3px 0 0 0 var(--cor-principal);
}

/* No tema claro, mantém contraste bonito */
html[data-theme="light"] .topbar .navbar-nav.top-menu .nav-link:hover,
html[data-theme="light"] .topbar .navbar-nav.top-menu .nav-link.active{
  background: #e9eef6;
  color: var(--texto-escuro);
  box-shadow: inset 3px 0 0 0 var(--cor-principal);
}

input.form-control,
select.form-select,
textarea.form-control{
  background-color: var(--bg-body);
  border: 1px solid var(--cor-principal);
  color: var(--text);
}

input.form-control::placeholder,
textarea.form-control::placeholder{
  color: var(--placeholder);
}

/* Força texto branco no modo escuro (exceto dentro das tabelas) */
html[data-theme="dark"] body,
html[data-theme="dark"] .main,
html[data-theme="dark"] h1,
html[data-theme="dark"] h2,
html[data-theme="dark"] h3,
html[data-theme="dark"] h4,
html[data-theme="dark"] h5,
html[data-theme="dark"] h6,
html[data-theme="dark"] p,
html[data-theme="dark"] span,
html[data-theme="dark"] label,
html[data-theme="dark"] .nav-link,
html[data-theme="dark"] .modal-content,
html[data-theme="dark"] .modal-content *:not(.btn):not(.badge){
  color: #F2F2F2 !important;
}
